'use strict';

var _ = require('lodash'),
    utils = require('../../../utils'),
    driver = utils.getDriver(),
    C = driver.constants;

module.exports = function (object, intent, _ref) {
    var bulk = _ref.bulk;

    if (!object || !!intent.roomNames && (!_.isArray(intent.roomNames) || intent.roomNames.length > 100 || _.some(intent.roomNames, function (r) {
        return !/^(W|E)\d+(N|S)\d+$/.test(r);
    }))) {
        return;
    }

    bulk.update(object, { whitelist: null });
    var whitelist = { rooms: intent.roomNames || null };
    bulk.update(object, { whitelist: whitelist });
};
//# sourceMappingURL=../../../sourcemaps/processor/intents/terminal/setWhitelist.js.map
