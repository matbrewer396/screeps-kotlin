{"version":3,"sources":["processor/global.js"],"names":["q","require","_","utils","driver","getDriver","C","constants","marketProcessor","powerProcessor","module","exports","getInterRoom","then","data","gameTime","creeps","accessibleRooms","roomObjects","orders","users","userPowerCreeps","userIntents","shardName","bulkObjects","bulkObjectsWrite","bulkRooms","bulkRoomsWrite","bulkUsers","bulkUsersWrite","bulkTransactions","bulkTransactionsWrite","bulkUsersMoney","bulkUsersResources","bulkUsersPowerCreeps","bulkMarketOrders","bulkMarketIntershardOrders","activateRooms","usersById","indexBy","roomObjectsByType","groupBy","forEach","creep","interRoom","room","activateRoom","update","x","y","all","execute","clearGlobalIntents"],"mappings":"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","file":"../../processor/global.js","sourceRoot":"/src"}