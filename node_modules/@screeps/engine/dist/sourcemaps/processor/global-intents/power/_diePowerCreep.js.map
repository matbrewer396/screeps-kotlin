{"version":3,"sources":["processor/global-intents/power/_diePowerCreep.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","roomObjects","bulkObjects","bulkUsersPowerCreeps","gameTime","tombstone","type","room","x","y","user","deathTime","decayTime","TOMBSTONE_DECAY_POWER_CREEP","store","powerCreepId","_id","powerCreepName","name","powerCreepTicksToLive","ageTime","powerCreepClassName","className","powerCreepLevel","level","powerCreepPowers","mapValues","powers","i","powerCreepSaying","actionLog","say","isPublic","message","undefined","container","find","forEach","amount","resourceType","hits","targetTotal","calcResources","toContainerAmount","Math","min","storeCapacity","update","insert","remove","shard","spawnCooldownTime","Date","now","POWER_CREEP_SPAWN_COOLDOWN"],"mappings":";;AAAA,IAAIA,IAAIC,QAAQ,QAAR,CAAR;AAAA,IACIC,QAASD,QAAQ,gBAAR,CADb;AAAA,IAEIE,SAASD,MAAME,SAAN,EAFb;AAAA,IAGIC,IAAIF,OAAOG,SAHf;;AAKAC,OAAOC,OAAP,GAAiB,UAASC,MAAT,EAAiB,EAACC,WAAD,EAAcC,WAAd,EAA2BC,oBAA3B,EAAiDC,QAAjD,EAAjB,EAA6E;;AAE1F,QAAIC,YAAY;AACZC,cAAM,WADM;AAEZC,cAAMP,OAAOO,IAFD;AAGZC,WAAGR,OAAOQ,CAHE;AAIZC,WAAGT,OAAOS,CAJE;AAKZC,cAAMV,OAAOU,IALD;AAMZC,mBAAWP,QANC;AAOZQ,mBAAWR,WAAWR,EAAEiB,2BAPZ;AAQZC,eAAO,EARK;AASZC,sBAAc,KAAGf,OAAOgB,GATZ;AAUZC,wBAAgBjB,OAAOkB,IAVX;AAWZC,+BAAuBnB,OAAOoB,OAAP,GAAiBhB,QAX5B;AAYZiB,6BAAqBrB,OAAOsB,SAZhB;AAaZC,yBAAiBvB,OAAOwB,KAbZ;AAcZC,0BAAkBlC,EAAEmC,SAAF,CAAY1B,OAAO2B,MAAnB,EAA2BC,MAAM,EAACJ,OAAOI,EAAEJ,KAAV,EAAN,CAA3B,CAdN;AAeZK,0BAAkB7B,OAAO8B,SAAP,IAAoB9B,OAAO8B,SAAP,CAAiBC,GAArC,IAA4C/B,OAAO8B,SAAP,CAAiBC,GAAjB,CAAqBC,QAAjE,GAA4EhC,OAAO8B,SAAP,CAAiBC,GAAjB,CAAqBE,OAAjG,GAA2GC;AAfjH,KAAhB;;AAkBA,QAAIC,YAAY5C,EAAE6C,IAAF,CAAOnC,WAAP,EAAoB,EAAEK,MAAM,WAAR,EAAqBE,GAAGR,OAAOQ,CAA/B,EAAkCC,GAAGT,OAAOS,CAA5C,EAApB,CAAhB;AACA,QAAG0B,SAAH,EAAc;AACVA,kBAAUrB,KAAV,GAAkBqB,UAAUrB,KAAV,IAAmB,EAArC;AACH;;AAED,QAAGd,OAAOc,KAAV,EAAiB;AACbvB,UAAE8C,OAAF,CAAUrC,OAAOc,KAAjB,EAAwB,CAACwB,MAAD,EAASC,YAAT,KAA0B;AAC9C,gBAAGD,UAAU,CAAb,EAAgB;AACZ;AACH;AACD,gBAAGH,aAAaA,UAAUK,IAAV,GAAiB,CAAjC,EAAoC;AAChC,sBAAMC,cAAchD,MAAMiD,aAAN,CAAoBP,SAApB,CAApB;AACA,sBAAMQ,oBAAoBC,KAAKC,GAAL,CAASP,MAAT,EAAiBH,UAAUW,aAAV,GAA0BL,WAA3C,CAA1B;AACA,oBAAGE,oBAAoB,CAAvB,EAA0B;AACtBR,8BAAUrB,KAAV,CAAgByB,YAAhB,IAAgC,CAACJ,UAAUrB,KAAV,CAAgByB,YAAhB,KAAiC,CAAlC,IAAuCI,iBAAvE;AACAzC,gCAAY6C,MAAZ,CAAmBZ,SAAnB,EAA8B,EAACrB,OAAO,EAAC,CAACyB,YAAD,GAAgBJ,UAAUrB,KAAV,CAAgByB,YAAhB,CAAjB,EAAR,EAA9B;AACAD,8BAAUK,iBAAV;AACH;AACJ;AACD,gBAAGL,SAAS,CAAZ,EAAc;AACVjC,0BAAUS,KAAV,CAAgByB,YAAhB,IAAgC,CAAClC,UAAUS,KAAV,CAAgByB,YAAhB,KAAiC,CAAlC,IAAuCD,MAAvE;AACH;AACJ,SAhBD;AAiBH;;AAEDpC,gBAAY8C,MAAZ,CAAmB3C,SAAnB;;AAEAH,gBAAY+C,MAAZ,CAAmBjD,OAAOgB,GAA1B;;AAEAb,yBAAqB4C,MAArB,CAA4B/C,OAAOgB,GAAnC,EAAwC;AACpCkC,eAAO,IAD6B;AAEpCC,2BAAmBC,KAAKC,GAAL,KAAazD,EAAE0D;AAFE,KAAxC;AAIH,CArDD","file":"../../../../processor/global-intents/power/_diePowerCreep.js","sourceRoot":"/src"}