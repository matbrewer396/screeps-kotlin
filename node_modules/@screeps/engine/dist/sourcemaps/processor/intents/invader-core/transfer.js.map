{"version":3,"sources":["processor/intents/invader-core/transfer.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","intent","roomObjects","bulk","roomController","eventLog","type","target","id","contains","targetTotal","calcResources","store","energy","targetCapacity","storeCapacity","storeCapacityResource","amount","actionLog","transferEnergy","x","y","update","push","event","EVENT_TRANSFER","objectId","_id","data","targetId","resourceType","RESOURCE_ENERGY"],"mappings":";;AAAA,IAAIA,IAAIC,QAAQ,QAAR,CAAR;AAAA,IACIC,QAASD,QAAQ,gBAAR,CADb;AAAA,IAEIE,SAASD,MAAME,SAAN,EAFb;AAAA,IAGIC,IAAIF,OAAOG,SAHf;;AAKAC,OAAOC,OAAP,GAAiB,UAASC,MAAT,EAAiBC,MAAjB,EAAyB,EAACC,WAAD,EAAcC,IAAd,EAAoBC,cAApB,EAAoCC,QAApC,EAAzB,EAAwE;AACrF,QAAGL,OAAOM,IAAP,IAAe,aAAlB,EAAiC;AAC7B;AACH;;AAED,QAAIC,SAASL,YAAYD,OAAOO,EAAnB,CAAb;AACA,QAAG,CAACD,MAAJ,EAAY;AACR;AACH;;AAED,QAAG,CAAChB,EAAEkB,QAAF,CAAW,CAAC,OAAD,EAAS,OAAT,CAAX,EAA8BF,OAAOD,IAArC,CAAJ,EAAgD;AAC5C;AACH;AACD,UAAMI,cAAcH,OAAOD,IAAP,IAAe,OAAf,GAAyBb,MAAMkB,aAAN,CAAoBJ,MAApB,CAAzB,GAAuDA,OAAOK,KAAP,CAAaC,MAAxF;AACA,UAAMC,iBAAiBP,OAAOQ,aAAP,IAAwBR,OAAOS,qBAAP,CAA6BH,MAA5E;AACA,QAAGH,eAAeI,cAAlB,EAAkC;AAC9B;AACH;;AAED,QAAIG,SAAShB,OAAOgB,MAApB;AACA,QAAGP,cAAcO,MAAd,GAAuBH,cAA1B,EAA0C;AACtCG,iBAASH,iBAAiBJ,WAA1B;AACH;;AAEDH,WAAOK,KAAP,CAAaC,MAAb,IAAuBI,MAAvB;;AAEAjB,WAAOkB,SAAP,CAAiBC,cAAjB,GAAkC,EAACC,GAAGb,OAAOa,CAAX,EAAcC,GAAGd,OAAOc,CAAxB,EAAlC;;AAEAlB,SAAKmB,MAAL,CAAYtB,MAAZ,EAAoB,EAACkB,WAAWlB,OAAOkB,SAAnB,EAApB;AACAf,SAAKmB,MAAL,CAAYf,MAAZ,EAAoB,EAAEK,OAAO,EAAEC,QAAQN,OAAOK,KAAP,CAAaC,MAAvB,EAAT,EAApB;;AAEAR,aAASkB,IAAT,CAAc,EAACC,OAAO5B,EAAE6B,cAAV,EAA0BC,UAAU1B,OAAO2B,GAA3C,EAAgDC,MAAM,EAACC,UAAUtB,OAAOoB,GAAlB,EAAuBG,cAAclC,EAAEmC,eAAvC,EAAwDd,MAAxD,EAAtD,EAAd;AACH,CAhCD","file":"../../../../processor/intents/invader-core/transfer.js","sourceRoot":"/src"}