{"version":3,"sources":["processor/intents/room/create-construction-site.js"],"names":["_","require","utils","driver","getDriver","C","constants","config","createdConstructionSiteCounter","module","exports","userId","intent","roomObjects","roomTerrain","bulk","roomController","x","y","CONSTRUCTION_COST","structureType","test","roomName","user","reservation","checkControllerAvailability","checkConstructionSite","progressTotal","any","type","checkTerrain","TERRAIN_MASK_SWAMP","CONSTRUCTION_COST_ROAD_SWAMP_RATIO","TERRAIN_MASK_WALL","CONSTRUCTION_COST_ROAD_WALL_RATIO","ptr","obj","room","progress","name","insert"],"mappings":"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","file":"../../../../processor/intents/room/create-construction-site.js","sourceRoot":"/src"}