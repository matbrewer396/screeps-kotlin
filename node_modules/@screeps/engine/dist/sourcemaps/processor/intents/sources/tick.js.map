{"version":3,"sources":["processor/intents/sources/tick.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","bulk","roomController","gameTime","type","energy","energyCapacity","nextRegenerationTime","ENERGY_REGEN_TIME","update","effect","find","effects","power","PWR_DISRUPT_SOURCE","endTime","PWR_REGEN_SOURCE","powerInfo","POWER_INFO","period","Math","min","level","user","reservation","SOURCE_ENERGY_NEUTRAL_CAPACITY","SOURCE_ENERGY_CAPACITY","SOURCE_ENERGY_KEEPER_CAPACITY"],"mappings":";;AAAA,IAAIA,IAAIC,QAAQ,QAAR,CAAR;AAAA,IACIC,QAAQD,QAAQ,gBAAR,CADZ;AAAA,IAEIE,SAASD,MAAME,SAAN,EAFb;AAAA,IAGIC,IAAIF,OAAOG,SAHf;;AAKAC,OAAOC,OAAP,GAAiB,UAASC,MAAT,EAAiB,EAACC,IAAD,EAAOC,cAAP,EAAuBC,QAAvB,EAAjB,EAAmD;;AAEhE,QAAG,CAACH,MAAD,IAAWA,OAAOI,IAAP,IAAe,QAA7B,EAAuC;;AAEvC,QAAGJ,OAAOK,MAAP,GAAgBL,OAAOM,cAA1B,EAA0C;;AAEtC,YAAG,CAACN,OAAOO,oBAAX,EAAiC;AAC7BP,mBAAOO,oBAAP,GAA8BJ,WAAWP,EAAEY,iBAA3C;AACAP,iBAAKQ,MAAL,CAAYT,MAAZ,EAAoB,EAACO,sBAAsBP,OAAOO,oBAA9B,EAApB;AACH;;AAED,YAAIG,SAASnB,EAAEoB,IAAF,CAAOX,OAAOY,OAAd,EAAuB,EAACC,OAAOjB,EAAEkB,kBAAV,EAAvB,CAAb;AACA,YAAGJ,UAAUA,OAAOK,OAAP,GAAiBZ,QAA9B,EAAwC;AACpCF,iBAAKQ,MAAL,CAAYT,MAAZ,EAAoB;AAChBO,sCAAsBP,OAAOO,oBAAP,GAA4B;AADlC,aAApB;AAGH;;AAED,YAAGJ,YAAYH,OAAOO,oBAAP,GAA4B,CAA3C,EAA8C;AAC1CN,iBAAKQ,MAAL,CAAYT,MAAZ,EAAoB;AAChBO,sCAAsB,IADN;AAEhBF,wBAAQL,OAAOM;AAFC,aAApB;AAIH;;AAEDI,iBAASnB,EAAEoB,IAAF,CAAOX,OAAOY,OAAd,EAAuB,EAACC,OAAOjB,EAAEoB,gBAAV,EAAvB,CAAT;AACA,YAAGN,UAAUA,OAAOK,OAAP,GAAiBZ,QAA9B,EAAwC;AACpC,kBAAMc,YAAYrB,EAAEsB,UAAF,CAAatB,EAAEoB,gBAAf,CAAlB;AACA,gBAAI,CAACN,OAAOK,OAAP,GAAiBZ,QAAjB,GAA4B,CAA7B,IAAkCc,UAAUE,MAA7C,KAAyD,CAA5D,EAA+D;AAC3DlB,qBAAKQ,MAAL,CAAYT,MAAZ,EAAoB;AAChBK,4BAAQe,KAAKC,GAAL,CAASrB,OAAOM,cAAhB,EAAgCN,OAAOK,MAAP,GAAgBY,UAAUP,MAAV,CAAiBA,OAAOY,KAAP,GAAe,CAAhC,CAAhD;AADQ,iBAApB;AAGH;AACJ;AAGJ;;AAID,QAAGpB,cAAH,EAAmB;AACf,YAAI,CAACA,eAAeqB,IAAhB,IAAwB,CAACrB,eAAesB,WAAxC,IAAuDxB,OAAOM,cAAP,IAAyBV,EAAE6B,8BAAtF,EAAsH;AAClHxB,iBAAKQ,MAAL,CAAYT,MAAZ,EAAoB;AAChBM,gCAAgBV,EAAE6B,8BADF;AAEhBpB,wBAAQe,KAAKC,GAAL,CAASrB,OAAOK,MAAhB,EAAwBT,EAAE6B,8BAA1B;AAFQ,aAApB;AAIH;AACD,YAAI,CAACvB,eAAeqB,IAAf,IAAuBrB,eAAesB,WAAvC,KAAuDxB,OAAOM,cAAP,IAAyBV,EAAE8B,sBAAtF,EAA8G;AAC1GzB,iBAAKQ,MAAL,CAAYT,MAAZ,EAAoB,EAACM,gBAAgBV,EAAE8B,sBAAnB,EAApB;AACH;AACJ,KAVD,MAWK,IAAG1B,OAAOM,cAAP,IAAyBV,EAAE+B,6BAA9B,EAA6D;AAC9D1B,aAAKQ,MAAL,CAAYT,MAAZ,EAAoB,EAACM,gBAAgBV,EAAE+B,6BAAnB,EAApB;AACH;AACJ,CAtDD","file":"../../../../processor/intents/sources/tick.js","sourceRoot":"/src"}