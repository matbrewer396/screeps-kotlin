{"version":3,"sources":["processor/intents/nukes/tick.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","scope","roomObjects","bulk","roomController","gameTime","roomInfo","novice","Date","now","respawnArea","remove","_id","landTime","forEach","target","type","EVENT_ATTACK_TYPE_NUKE","update","hits","spawning","dx","dy","x","y","range","Math","max","abs","damage","NUKE_DAMAGE","objects","filter","rampart","find","rampartHits","pull","safeMode","safeModeCooldown","user","some","effects","e","effect","EFFECT_INVULNERABILITY","endTime","upgradeBlocked","CONTROLLER_NUKE_BLOCKED_UPGRADE"],"mappings":"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","file":"../../../../processor/intents/nukes/tick.js","sourceRoot":"/src"}