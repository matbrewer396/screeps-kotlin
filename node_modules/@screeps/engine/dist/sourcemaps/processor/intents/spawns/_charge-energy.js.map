{"version":3,"sources":["processor/intents/spawns/_charge-energy.js"],"names":["_","require","utils","driver","getDriver","C","constants","oldEnergyHandling","spawn","cost","roomObjects","bulk","spawns","filter","i","type","user","off","extensions","availableEnergy","sum","sort","comparatorDistance","forEach","neededEnergy","Math","min","store","energy","update","extension","newEnergyHandling","energyStructures","id","energyStructure","uniq","energyChange","module","exports","chargeEnergy","scope","undefined"],"mappings":"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","file":"../../../../processor/intents/spawns/_charge-energy.js","sourceRoot":"/src"}