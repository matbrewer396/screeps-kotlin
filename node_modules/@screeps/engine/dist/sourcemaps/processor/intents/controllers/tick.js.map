{"version":3,"sources":["processor/intents/controllers/tick.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","bulk","bulkUsers","gameTime","roomInfo","users","type","reservation","endTime","user","update","addRoomToUser","room","_upgradeBlocked","upgradeBlocked","_safeModeActivated","safeModeAvailable","safeMode","SAFE_MODE_DURATION","safeModeCooldown","novice","Date","now","SAFE_MODE_COOLDOWN","downgradeTime","tutorial","CONTROLLER_DOWNGRADE","level","_upgraded","Math","min","CONTROLLER_DOWNGRADE_RESTORE","sendNotification","removeRoomFromUser","progress","isPowerEnabled","round","CONTROLLER_LEVELS"],"mappings":"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","file":"../../../../processor/intents/controllers/tick.js","sourceRoot":"/src"}