{"version":3,"sources":["processor/intents/creeps/tick.js"],"names":["_","require","utils","driver","getDriver","C","constants","movement","_applyDamage","object","damage","damageReduce","damageEffective","any","body","i","boost","length","bodyPart","damageRatio","BOOSTS","type","bodyPartHitsEffective","hits","Math","min","round","module","exports","scope","roomObjects","bulk","roomController","gameTime","eventLog","spawning","spawn","find","o","x","y","remove","_id","name","execute","isAtEdge","user","roomNameToXY","room","roomX","roomY","getRoomNameFromXY","update","interRoom","push","event","EVENT_EXIT","objectId","data","ageTime","portal","destination","tutorial","CLAIM","CREEP_CLAIM_LIFE_TIME","CREEP_LIFE_TIME","undefined","isEqual","actionLog","_actionLog","moves","calcBodyEffectiveness","MOVE","isNaN","userSummoned","oldHits","_damageToApply","_healToApply","hitsMax","storeCapacity"],"mappings":"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","file":"../../../../processor/intents/creeps/tick.js","sourceRoot":"/src"}