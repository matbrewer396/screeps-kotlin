{"version":3,"sources":["processor/intents/creeps/rangedMassAttack.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","intent","scope","roomObjects","roomController","gameTime","type","spawning","attackPower","calcBodyEffectiveness","body","RANGED_ATTACK","RANGED_ATTACK_POWER","user","safeMode","targets","filter","i","isUndefined","x","y","distanceRate","target","find","hits","some","effects","e","endTime","power","PWR_FORTIFY","effect","EFFECT_INVULNERABILITY","distance","Math","max","abs","targetAttackPower","round","EVENT_ATTACK_TYPE_RANGED_MASS","actionLog","rangedMassAttack"],"mappings":";;AAAA,IAAIA,IAAIC,QAAQ,QAAR,CAAR;AAAA,IACIC,QAASD,QAAQ,gBAAR,CADb;AAAA,IAEIE,SAASD,MAAME,SAAN,EAFb;AAAA,IAGIC,IAAIF,OAAOG,SAHf;;AAKAC,OAAOC,OAAP,GAAiB,UAASC,MAAT,EAAiBC,MAAjB,EAAyBC,KAAzB,EAAgC;AAAA,UAEtCC,WAFsC,GAEGD,KAFH,CAEtCC,WAFsC;AAAA,UAEzBC,cAFyB,GAEGF,KAFH,CAEzBE,cAFyB;AAAA,UAETC,QAFS,GAEGH,KAFH,CAETG,QAFS;;;AAI7C,QAAGL,OAAOM,IAAP,IAAe,OAAlB,EAA2B;AACvB;AACH;AACD,QAAGN,OAAOO,QAAV,EAAoB;AAChB;AACH;;AAED,QAAIC,cAAcf,MAAMgB,qBAAN,CAA4BT,OAAOU,IAAnC,EAAyCd,EAAEe,aAA3C,EAA0D,kBAA1D,EAA8Ef,EAAEgB,mBAAhF,CAAlB;;AAEA,QAAGJ,eAAe,CAAlB,EAAqB;AACjB;AACH;AACD,QAAGJ,kBAAkBA,eAAeS,IAAf,IAAuBb,OAAOa,IAAhD,IAAwDT,eAAeU,QAAf,GAA0BT,QAArF,EAA+F;AAC3F;AACH;;AAED,QAAIU,UAAUxB,EAAEyB,MAAF,CAASb,WAAT,EAAuBc,CAAD,IAAO;AACvC,eAAO,CAAC,CAAC1B,EAAE2B,WAAF,CAAcD,EAAEJ,IAAhB,CAAD,IAA0BI,EAAEX,IAAF,IAAU,WAArC,KAAqDW,EAAEJ,IAAF,IAAUb,OAAOa,IAAtE,IACHI,EAAEE,CAAF,IAAOnB,OAAOmB,CAAP,GAAW,CADf,IACoBF,EAAEE,CAAF,IAAOnB,OAAOmB,CAAP,GAAW,CADtC,IAEHF,EAAEG,CAAF,IAAOpB,OAAOoB,CAAP,GAAW,CAFf,IAEoBH,EAAEG,CAAF,IAAOpB,OAAOoB,CAAP,GAAW,CAF7C;AAGH,KAJa,CAAd;;AAMA,QAAIC,eAAe,EAAC,GAAG,CAAJ,EAAO,GAAG,CAAV,EAAa,GAAG,GAAhB,EAAqB,GAAG,GAAxB,EAAnB;;AAEA,SAAI,IAAIJ,CAAR,IAAaF,OAAb,EAAsB;;AAElB,YAAIO,SAASP,QAAQE,CAAR,CAAb;;AAEA,YAAGK,OAAOhB,IAAP,IAAe,SAAf,IAA4Bf,EAAEgC,IAAF,CAAOpB,WAAP,EAAoB,EAACG,MAAM,SAAP,EAAkBa,GAAGG,OAAOH,CAA5B,EAA+BC,GAAGE,OAAOF,CAAzC,EAApB,CAA/B,EAAiG;AAC7F;AACH;AACD,YAAG,CAACE,OAAOE,IAAX,EAAiB;AACb;AACH;AACD,YAAGF,OAAOhB,IAAP,IAAe,OAAf,IAA0BgB,OAAOf,QAApC,EAA8C;AAC1C;AACH;AACD,YAAGhB,EAAEkC,IAAF,CAAOH,OAAOI,OAAd,EAAuBC,KAAKA,EAAEC,OAAF,IAAavB,QAAb,KAA0BsB,EAAEE,KAAF,IAAWjC,EAAEkC,WAAb,IAA4BH,EAAEI,MAAF,IAAYnC,EAAEoC,sBAApE,CAA5B,CAAH,EAA6H;AACzH;AACH;;AAED,YAAIC,WAAWC,KAAKC,GAAL,CAASD,KAAKE,GAAL,CAASpC,OAAOmB,CAAP,GAAWG,OAAOH,CAA3B,CAAT,EAAwCe,KAAKE,GAAL,CAASpC,OAAOoB,CAAP,GAAWE,OAAOF,CAA3B,CAAxC,CAAf;;AAEA,YAAIiB,oBAAoBH,KAAKI,KAAL,CAAW9B,cAAca,aAAaY,QAAb,CAAzB,CAAxB;;AAEAzC,gBAAQ,YAAR,EAAsBQ,MAAtB,EAA8BsB,MAA9B,EAAsCe,iBAAtC,EAAyDzC,EAAE2C,6BAA3D,EAA0FrC,KAA1F;AACH;;AAEDF,WAAOwC,SAAP,CAAiBC,gBAAjB,GAAoC,EAApC;AACH,CArDD","file":"../../../../processor/intents/creeps/rangedMassAttack.js","sourceRoot":"/src"}