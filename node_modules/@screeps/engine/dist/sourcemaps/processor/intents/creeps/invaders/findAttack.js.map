{"version":3,"sources":["processor/intents/creeps/invaders/findAttack.js"],"names":["_","require","utils","driver","getDriver","C","constants","fakeRuntime","flee","checkPath","pos1","pos2","scope","ret","findPath","path","length","x","y","module","exports","creep","context","intents","healers","hostiles","fortifications","roomObjects","roomController","costCallbackIgnoreRamparts","roomName","cm","forEach","i","set","haveAttack","hasActiveBodyparts","ATTACK","RANGED_ATTACK","target","hits","hitsMax","some","findClosestByPath","ignoreRoads","direction","moveTo","maxRooms","_id","nearCreep","find","c","dist","id","ignoreCreeps","costCallback","ignoreDestructibleStructures","unreachableSpawns","filter","o","type","RoomPosition","room","user","WORK","pos","sUnpackLocal","structures","CONTROLLER_STRUCTURES"],"mappings":";;AAAA,MAAMA,IAAIC,QAAQ,QAAR,CAAV;AAAA,MACIC,QAASD,QAAQ,mBAAR,CADb;AAAA,MAEIE,SAASD,MAAME,SAAN,EAFb;AAAA,MAGIC,IAAIF,OAAOG,SAHf;AAAA,MAIIC,cAAcN,QAAQ,8BAAR,CAJlB;AAAA,MAKIO,OAAOP,QAAQ,QAAR,CALX;;AAOA,SAASQ,SAAT,CAAmBC,IAAnB,EAAyBC,IAAzB,EAA+BC,KAA/B,EAAsC;AAClC,UAAMC,MAAMN,YAAYO,QAAZ,CAAqBJ,IAArB,EAA2BC,IAA3B,EAAiC,EAAjC,EAAqCC,KAArC,CAAZ;AACA,UAAMG,OAAOF,IAAIE,IAAjB;AACA,QAAI,CAACA,KAAKC,MAAV,EAAkB;AACd,eAAO,KAAP;AACH;AACD,WAAOD,KAAKA,KAAKC,MAAL,GAAc,CAAnB,EAAsBC,CAAtB,IAA2BN,KAAKM,CAAhC,IAAqCF,KAAKA,KAAKC,MAAL,GAAc,CAAnB,EAAsBE,CAAtB,IAA2BP,KAAKO,CAA5E;AACH;;AAEDC,OAAOC,OAAP,GAAiB,UAASC,KAAT,EAAgBC,OAAhB,EAAyB;AAAA,UAC/BV,KAD+B,GACsBU,OADtB,CAC/BV,KAD+B;AAAA,UACxBW,OADwB,GACsBD,OADtB,CACxBC,OADwB;AAAA,UACfC,OADe,GACsBF,OADtB,CACfE,OADe;AAAA,UACNC,QADM,GACsBH,OADtB,CACNG,QADM;AAAA,UACIC,cADJ,GACsBJ,OADtB,CACII,cADJ;AAAA,UAE/BC,WAF+B,GAEAf,KAFA,CAE/Be,WAF+B;AAAA,UAElBC,cAFkB,GAEAhB,KAFA,CAElBgB,cAFkB;;;AAItC,UAAMC,6BAA6B,UAASC,QAAT,EAAmBC,EAAnB,EAAuB;AACtDL,uBAAeM,OAAf,CAAuBC,KAAKF,GAAGG,GAAH,CAAOD,EAAEhB,CAAT,EAAYgB,EAAEf,CAAd,EAAiB,CAAjB,CAA5B;AACH,KAFD;;AAIA,UAAMiB,aAAa5B,YAAY6B,kBAAZ,CAA+Bf,KAA/B,EAAsChB,EAAEgC,MAAxC,CAAnB;AACA,QAAG,CAACF,UAAD,IAAe5B,YAAY6B,kBAAZ,CAA+Bf,KAA/B,EAAsChB,EAAEiC,aAAxC,CAAf,IAAyE9B,KAAKa,KAAL,EAAY,CAAZ,EAAeC,OAAf,CAA5E,EAAqG;AACjG;AACH;;AAED,QAAIiB,MAAJ;AACA,QAAGlB,MAAMmB,IAAN,GAAanB,MAAMoB,OAAN,GAAgB,CAA7B,IAAkCzC,EAAE0C,IAAF,CAAOlB,OAAP,CAAlC,IAAqD,CAACW,UAAzD,EAAqE;AACjEI,iBAAShC,YAAYoC,iBAAZ,CAA8BtB,KAA9B,EAAqCG,OAArC,EAA8C,EAACoB,aAAa,IAAd,EAA9C,EAAmEhC,KAAnE,CAAT;AACA,YAAG2B,MAAH,EAAW;AACP,kBAAMM,YAAYtC,YAAYuC,MAAZ,CAAmBzB,KAAnB,EAA0BkB,MAA1B,EAAkC,EAACQ,UAAU,CAAX,EAAcH,aAAa,IAA3B,EAAlC,EAAoEhC,KAApE,CAAlB;AACA,gBAAGiC,SAAH,EAAc;AACVtB,wBAAQW,GAAR,CAAYb,MAAM2B,GAAlB,EAAuB,MAAvB,EAA+B,EAAEH,SAAF,EAA/B;AACH,aAFD,MAEO;AACHN,yBAAS,IAAT;AACH;AACJ,SAPD,MAOO;AACHA,qBAAS,IAAT;AACH;AACJ;;AAED,QAAGJ,UAAH,EAAe;AACX,cAAMc,YAAYjD,EAAEkD,IAAF,CAAOzB,QAAP,EAAiB0B,KAAKjD,MAAMkD,IAAN,CAAW/B,KAAX,EAAkB8B,CAAlB,KAAwB,CAA9C,CAAlB;AACA,YAAGF,SAAH,EAAc;AACV1B,oBAAQW,GAAR,CAAYb,MAAM2B,GAAlB,EAAuB,QAAvB,EAAiC,EAAEK,IAAIJ,UAAUD,GAAhB,EAAqB/B,GAAGgC,UAAUhC,CAAlC,EAAqCC,GAAG+B,UAAU/B,CAAlD,EAAjC;AACH;AACJ;;AAED,QAAG,CAACqB,MAAJ,EAAY;AACRA,iBAAShC,YAAYoC,iBAAZ,CAA8BtB,KAA9B,EAAqCI,QAArC,EAA+C,EAACmB,aAAa,IAAd,EAAoBU,cAAc,IAAlC,EAA/C,EAAwF1C,KAAxF,CAAT;AACA,YAAG2B,WAAWJ,cAAejC,MAAMkD,IAAN,CAAW/B,KAAX,EAAkBkB,MAAlB,IAA4B,CAAtD,CAAH,EAA8D;AAC1D,kBAAMM,YAAYtC,YAAYuC,MAAZ,CAAmBzB,KAAnB,EAA0BkB,MAA1B,EAAkC,EAACQ,UAAU,CAAX,EAAcH,aAAa,IAA3B,EAAiCU,cAAc,IAA/C,EAAlC,EAAwF1C,KAAxF,CAAlB;AACA,gBAAGiC,SAAH,EAAc;AACVtB,wBAAQW,GAAR,CAAYb,MAAM2B,GAAlB,EAAuB,MAAvB,EAA+B,EAAEH,SAAF,EAA/B;AACH;AACJ;AACJ;;AAED,QAAG,CAACN,MAAJ,EAAY;AACRA,iBAAShC,YAAYoC,iBAAZ,CAA8BtB,KAA9B,EAAqCI,QAArC,EAA+C,EAACsB,UAAU,CAAX,EAAcH,aAAa,IAA3B,EAAiCW,cAAc1B,0BAA/C,EAA/C,EAA2HjB,KAA3H,CAAT;AACA,YAAG2B,WAAWJ,cAAejC,MAAMkD,IAAN,CAAW/B,KAAX,EAAkBkB,MAAlB,IAA4B,CAAtD,CAAH,EAA8D;AAC1D,kBAAMM,YAAYtC,YAAYuC,MAAZ,CAAmBzB,KAAnB,EAA0BkB,MAA1B,EAAkC,EAACQ,UAAU,CAAX,EAAcH,aAAa,IAA3B,EAAiCW,cAAc1B,0BAA/C,EAAlC,EAA8GjB,KAA9G,CAAlB;AACA,gBAAGiC,SAAH,EAAc;AACVtB,wBAAQW,GAAR,CAAYb,MAAM2B,GAAlB,EAAuB,MAAvB,EAA+B,EAAEH,SAAF,EAA/B;AACH;AACJ;AACJ;;AAED,QAAG,CAACN,MAAJ,EAAY;AACRA,iBAAShC,YAAYoC,iBAAZ,CAA8BtB,KAA9B,EAAqCI,QAArC,EAA+C,EAAC+B,8BAA8B,IAA/B,EAAqCT,UAAU,CAA/C,EAAkDH,aAAa,IAA/D,EAA/C,EAAqHhC,KAArH,CAAT;AACA,YAAG2B,WAAWJ,cAAejC,MAAMkD,IAAN,CAAW/B,KAAX,EAAkBkB,MAAlB,IAA4B,CAAtD,CAAH,EAA8D;AAC1D,kBAAMM,YAAYtC,YAAYuC,MAAZ,CAAmBzB,KAAnB,EAA0BkB,MAA1B,EAAkC,EAACiB,8BAA8B,IAA/B,EAAqCT,UAAU,CAA/C,EAAkDH,aAAa,IAA/D,EAAlC,EAAwGhC,KAAxG,CAAlB;AACA,gBAAGiC,SAAH,EAAc;AACVtB,wBAAQW,GAAR,CAAYb,MAAM2B,GAAlB,EAAuB,MAAvB,EAA+B,EAAEH,SAAF,EAA/B;AACH;AACJ;AACJ;;AAED,QAAG,CAACN,MAAJ,EAAY;AACR,cAAMkB,oBAAoBzD,EAAE0D,MAAF,CAAS/B,WAAT,EAAsBgC,KAC5CA,EAAEC,IAAF,IAAU,OAAV,IAAqB,CAACnD,UAAUY,KAAV,EAAiB,IAAId,YAAYsD,YAAhB,CAA6BF,EAAE1C,CAA/B,EAAkC0C,EAAEzC,CAApC,EAAuCyC,EAAEG,IAAzC,CAAjB,EAAiElD,KAAjE,CADA,CAA1B;AAGA,YAAG,CAAC6C,kBAAkBzC,MAAnB,IAA6BY,cAA7B,IAA+CA,eAAemC,IAAjE,EAAuE;AACnExC,oBAAQW,GAAR,CAAYb,MAAM2B,GAAlB,EAAuB,SAAvB,EAAkC,EAAlC;AACA;AACH;;AAEDT,iBAASkB,kBAAkB,CAAlB,CAAT;AACA,YAAGlB,MAAH,EAAW;AACP,kBAAMM,YAAYtC,YAAYuC,MAAZ,CAAmBzB,KAAnB,EAA0BkB,MAA1B,EAAkC,EAACiB,8BAA8B,IAA/B,EAAqCT,UAAU,CAA/C,EAAkDH,aAAa,IAA/D,EAAlC,EAAwGhC,KAAxG,CAAlB;AACA,gBAAGiC,SAAH,EAAc;AACVtB,wBAAQW,GAAR,CAAYb,MAAM2B,GAAlB,EAAuB,MAAvB,EAA+B,EAAEH,SAAF,EAA/B;AACH;AACJ;AACD;AACH;;AAEDtB,YAAQW,GAAR,CAAYb,MAAM2B,GAAlB,EAAuB,QAAvB,EAAiC,EAAEK,IAAId,OAAOS,GAAb,EAAkB/B,GAAGsB,OAAOtB,CAA5B,EAA+BC,GAAGqB,OAAOrB,CAAzC,EAAjC;AACA,QAAG,CAACiB,cAAc5B,YAAY6B,kBAAZ,CAA+Bf,KAA/B,EAAsChB,EAAE2D,IAAxC,CAAf,KAAiE,CAAC,CAAC3C,MAAM,aAAN,CAAnE,IAA2F,CAAC,CAACA,MAAM,aAAN,EAAqB,MAArB,CAAhG,EAA8H;AAC1H,YAAG,CAACA,MAAM,aAAN,EAAqB,MAArB,EAA6BL,MAAjC,EAAyC;AACrC;AACH;;AAED,cAAMiD,MAAM1D,YAAYsD,YAAZ,CAAyBK,YAAzB,CAAsC7C,MAAM,aAAN,EAAqB,MAArB,EAA6B,CAA7B,CAAtC,EAAuEA,MAAMyC,IAA7E,CAAZ;AACA,cAAMK,aAAanE,EAAE0D,MAAF,CAAS/B,WAAT,EAAsBgC,KAAK,CAAC,CAACtD,EAAE+D,qBAAF,CAAwBT,EAAEC,IAA1B,CAAF,IAAqCD,EAAEC,IAAF,IAAU,OAA/C,IAA0DD,EAAE1C,CAAF,IAAOgD,IAAIhD,CAArE,IAA0E0C,EAAEzC,CAAF,IAAO+C,IAAI/C,CAAhH,CAAnB;AACA,YAAGiD,WAAWnD,MAAX,GAAoB,CAAvB,EAA0B;AACtB,gBAAGT,YAAY6B,kBAAZ,CAA+Bf,KAA/B,EAAsChB,EAAEiC,aAAxC,CAAH,EAA2D;AACvDf,wBAAQW,GAAR,CAAYb,MAAM2B,GAAlB,EAAuB,cAAvB,EAAuC,EAAEK,IAAIc,WAAW,CAAX,EAAcnB,GAApB,EAAvC;AACH;AACD,gBAAGzC,YAAY6B,kBAAZ,CAA+Bf,KAA/B,EAAsChB,EAAE2D,IAAxC,CAAH,EAAkD;AAC9CzC,wBAAQW,GAAR,CAAYb,MAAM2B,GAAlB,EAAuB,WAAvB,EAAoC,EAAEK,IAAIc,WAAW,CAAX,EAAcnB,GAApB,EAApC;AACH,aAFD,MAEO;AACHzB,wBAAQW,GAAR,CAAYb,MAAM2B,GAAlB,EAAuB,QAAvB,EAAiC,EAAEK,IAAIc,WAAW,CAAX,EAAcnB,GAApB,EAAyB/B,GAAGkD,WAAW,CAAX,EAAclD,CAA1C,EAA6CC,GAAGiD,WAAW,CAAX,EAAcjD,CAA9D,EAAjC;AACH;AACJ;AACJ;AACJ,CAvGD","file":"../../../../../processor/intents/creeps/invaders/findAttack.js","sourceRoot":"/src"}