{"version":3,"sources":["processor/intents/creeps/dismantle.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","intent","scope","roomObjects","roomTerrain","bulk","roomController","gameTime","type","spawning","target","id","CONSTRUCTION_COST","Math","abs","x","y","user","safeMode","rampart","find","power","calcBodyEffectiveness","body","WORK","DISMANTLE_POWER","amount","min","hits","energyGain","floor","DISMANTLE_COST","effect","effects","e","endTime","PWR_SHIELD","PWR_FORTIFY","EFFECT_INVULNERABILITY","store","energy","update","usedSpace","calcResources","storeCapacity","resourceType","EVENT_ATTACK_TYPE_DISMANTLE"],"mappings":"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","file":"../../../../processor/intents/creeps/dismantle.js","sourceRoot":"/src"}