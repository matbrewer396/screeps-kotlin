{"version":3,"sources":["processor/intents/creeps/attackController.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","intent","roomObjects","bulk","roomController","gameTime","eventLog","type","spawning","target","id","Math","abs","x","y","user","reservation","safeMode","upgradeBlocked","any","effects","e","effect","EFFECT_INVULNERABILITY","endTime","floor","filter","body","i","hits","CLAIM","length","CONTROLLER_RESERVE","update","CONTROLLER_CLAIM_DOWNGRADE","downgradeTime","_upgradeBlocked","CONTROLLER_ATTACK_BLOCKED_UPGRADE","actionLog","attack","push","event","EVENT_ATTACK_CONTROLLER","objectId","_id"],"mappings":";;AAAA,IAAIA,IAAIC,QAAQ,QAAR,CAAR;AAAA,IACIC,QAASD,QAAQ,gBAAR,CADb;AAAA,IAEIE,SAASD,MAAME,SAAN,EAFb;AAAA,IAGIC,IAAIF,OAAOG,SAHf;;AAKAC,OAAOC,OAAP,GAAiB,UAASC,MAAT,EAAiBC,MAAjB,EAAyB,EAACC,WAAD,EAAcC,IAAd,EAAoBC,cAApB,EAAoCC,QAApC,EAA8CC,QAA9C,EAAzB,EAAkF;;AAE/F,QAAGN,OAAOO,IAAP,IAAe,OAAlB,EAA2B;AACvB;AACH;AACD,QAAGP,OAAOQ,QAAV,EAAoB;AAChB;AACH;;AAED,QAAIC,SAASP,YAAYD,OAAOS,EAAnB,CAAb;AACA,QAAG,CAACD,MAAD,IAAWA,OAAOF,IAAP,IAAe,YAA7B,EAA2C;AACvC;AACH;AACD,QAAGI,KAAKC,GAAL,CAASH,OAAOI,CAAP,GAAWb,OAAOa,CAA3B,IAAgC,CAAhC,IAAqCF,KAAKC,GAAL,CAASH,OAAOK,CAAP,GAAWd,OAAOc,CAA3B,IAAgC,CAAxE,EAA2E;AACvE;AACH;AACD,QAAG,CAACL,OAAOM,IAAR,IAAgB,CAACN,OAAOO,WAA3B,EAAwC;AACpC;AACH;AACD,QAAGZ,kBAAkBA,eAAeW,IAAf,IAAuBf,OAAOe,IAAhD,IAAwDX,eAAea,QAAf,GAA0BZ,QAAlF,IACCD,eAAec,cAAf,GAAgCb,QADpC,EAC8C;AAC1C;AACH;AACD,QAAGd,EAAE4B,GAAF,CAAMV,OAAOW,OAAb,EAAsBC,KAAKA,EAAEC,MAAF,IAAY1B,EAAE2B,sBAAd,IAAwCF,EAAEG,OAAF,GAAYnB,QAA/E,CAAH,EAA6F;AACzF;AACH;;AAED,QAAGI,OAAOO,WAAV,EAAuB;AACnB,YAAIM,SAASX,KAAKc,KAAL,CAAWlC,EAAEmC,MAAF,CAAS1B,OAAO2B,IAAhB,EAAuBC,CAAD,IAAOA,EAAEC,IAAF,GAAS,CAAT,IAAcD,EAAErB,IAAF,IAAUX,EAAEkC,KAAvD,EAA8DC,MAA9D,GAAuEnC,EAAEoC,kBAApF,CAAb;AACA,YAAG,CAACV,MAAJ,EAAY;AACR;AACH;AACD,YAAIE,UAAUf,OAAOO,WAAP,CAAmBQ,OAAnB,GAA6BF,MAA3C;AACAnB,aAAK8B,MAAL,CAAYxB,MAAZ,EAAoB,EAACO,aAAa,EAACQ,OAAD,EAAd,EAApB;AACH;AACD,QAAGf,OAAOM,IAAV,EAAgB;AACZ,YAAIO,SAASX,KAAKc,KAAL,CAAWlC,EAAEmC,MAAF,CAAS1B,OAAO2B,IAAhB,EAAuBC,CAAD,IAAOA,EAAEC,IAAF,GAAS,CAAT,IAAcD,EAAErB,IAAF,IAAUX,EAAEkC,KAAvD,EAA8DC,MAA9D,GAAuEnC,EAAEsC,0BAApF,CAAb;AACA,YAAG,CAACZ,MAAJ,EAAY;AACR;AACH;AACD,YAAIa,gBAAgB1B,OAAO0B,aAAP,GAAuBb,MAA3C;AACAnB,aAAK8B,MAAL,CAAYxB,MAAZ,EAAoB,EAAC0B,aAAD,EAApB;AACA1B,eAAO2B,eAAP,GAAyB/B,WAAWT,EAAEyC,iCAAtC;AACH;AACDrC,WAAOsC,SAAP,CAAiBC,MAAjB,GAA0B,EAAC1B,GAAGJ,OAAOI,CAAX,EAAcC,GAAGL,OAAOK,CAAxB,EAA1B;;AAEAR,aAASkC,IAAT,CAAc,EAACC,OAAO7C,EAAE8C,uBAAV,EAAmCC,UAAU3C,OAAO4C,GAApD,EAAd;AACH,CA/CD","file":"../../../../processor/intents/creeps/attackController.js","sourceRoot":"/src"}