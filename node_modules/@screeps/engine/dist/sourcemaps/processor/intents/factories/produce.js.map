{"version":3,"sources":["processor/intents/factories/produce.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","intent","scope","gameTime","roomObjects","roomController","bulk","store","COMMODITIES","resourceType","level","cooldownTime","checkStructureAgainstController","some","effects","e","power","PWR_OPERATE_FACTORY","endTime","keys","components","p","targetTotal","calcResources","componentsTotal","sum","amount","storeCapacity","part","update","actionLog","produce","x","y","cooldown"],"mappings":"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","file":"../../../../processor/intents/factories/produce.js","sourceRoot":"/src"}