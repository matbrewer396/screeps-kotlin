{"version":3,"sources":["game/construction-sites.js"],"names":["utils","require","rooms","driver","getRuntimeDriver","C","constants","_","runtimeData","intents","register","globals","exports","make","_runtimeData","_intents","_register","_globals","ConstructionSite","data","id","roomObjects","Error","wrapFn","_data","RoomObject","call","x","y","room","effects","prototype","Object","create","constructor","defineGameObjectProperties","progress","o","progressTotal","structureType","name","owner","username","users","user","my","isUndefined","undefined","_id","toString","remove","controller","ERR_NOT_OWNER","pushByName","roomName","OK","defineProperty","enumerable","value"],"mappings":"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","file":"../../game/construction-sites.js","sourceRoot":"/src"}