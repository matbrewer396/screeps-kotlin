{"version":3,"sources":["processor.js"],"names":["q","require","_","movement","utils","driver","getDriver","C","constants","config","fakeRuntime","roomsQueue","usersQueue","lastRoomsStatsSaveTime","currentHistoryPromise","when","KEEPER_ID","INVADER_ID","processRoom","roomId","intents","roomObjects","users","roomTerrain","gameTime","roomInfo","flags","then","bulk","bulkObjectsWrite","bulkUsers","bulkUsersWrite","bulkFlags","bulkFlagsWrite","bulkUsersPowerCreeps","oldObjects","hasNewbieWalls","stats","getRoomStatsUpdater","objectsToHistory","roomSpawns","roomExtensions","roomNukes","keepers","invaders","invaderCore","oldRoomInfo","clone","activateRoom","terrainItem","findKey","terrain","eventLog","scope","forEach","object","type","_actionLog","actionLog","_ticksToLive","ageTime","attacked","healed","attack","rangedAttack","rangedMassAttack","rangedHeal","harvest","heal","repair","build","say","upgradeController","reserveController","user","push","strongholdId","transferEnergy","attackController","deployTime","runReaction","reverseReaction","roomController","reservation","endTime","CONTROLLER_RESERVE_MAX","INVADER_CORE_CONTROLLER_POWER","CONTROLLER_RESERVE","observeRoom","userNotActive","decayTime","spawned","power","produce","emit","pathFinder","make","RoomPosition","nuke","keeper","i","objects","objectsIntents","ii","objId","assign","invader","objectIntents","length","init","userIntents","userId","objectsManual","extend","objectId","_skip","setPublic","send","launchNuke","roomName","unclaim","activateSafeMode","notifyWhenAttacked","CONSTRUCTION_COST","update","enabled","check","safeMode","energyAvailable","filter","off","sum","mapView","w","r","pb","p","s","c","m","k","resultPromises","userVisibility","effects","collapseEffect","find","effect","EFFECT_COLLAPSE_TIMER","remove","_id","JSON","parse","stringify","isPublic","newbieWall","x","y","resourceType","mapViewSave","execute","saveRoomEventLog","active","saveRoomHistory","isEqual","saveRoomInfo","Date","now","roomsStatsSave","all","promise","historyChunkSize","baseTime","Math","floor","history","upload","data","saveTick","connect","queue","create","catch","error","console","process","exit","_roomsQueue","loop","fetch","_roomId","getRoomIntents","getRoomObjects","getRoomTerrain","getGameTime","getRoomInfo","getRoomFlags","result","log","isObject","stack","clearRoomIntents","markDone","setTimeout","self","setInterval","rejections","getUnhandledReasons","resetUnhandledRejections"],"mappings":"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","file":"../processor.js","sourceRoot":"/src"}