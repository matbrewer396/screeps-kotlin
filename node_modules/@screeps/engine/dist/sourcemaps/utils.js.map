{"version":3,"sources":["utils.js"],"names":["_","require","driver","C","offsetsByDirection","loadDriver","constants","e","exports","getDriver","process","env","DRIVER_MODULE","getRuntimeDriver","fetchXYArguments","firstArg","secondArg","globals","x","y","roomName","isUndefined","isNumber","isObject","undefined","screepPrototype","pos","isNaN","getDirection","dx","dy","adx","Math","abs","ady","RIGHT","LEFT","BOTTOM","TOP","BOTTOM_RIGHT","TOP_RIGHT","BOTTOM_LEFT","TOP_LEFT","getOffsetsByDirection","direction","Error","console","error","JSON","stringify","stack","calcCreepCost","body","result","forEach","i","BODYPART_COST","type","checkConstructionSite","objects","structureType","borderTiles","isString","Uint8Array","checkTerrain","TERRAIN_MASK_WALL","isArray","any","CONSTRUCTION_COST","getDiff","oldData","newData","getIndex","data","index","obj","_id","oldIndex","newIndex","newObj","objDiff","key","subkey","isEqual","size","encodeTerrain","terrain","filter","code","TERRAIN_MASK_SWAMP","decodeTerrain","items","charAt","push","room","decodeTerrainByRoom","spatial","Array","mask","Number","checkControllerAvailability","roomObjects","roomController","offset","rcl","level","user","owner","structuresCnt","availableCnt","CONTROLLER_STRUCTURES","getRoomNameFromXY","roomNameToXY","name","xx","parseInt","substr","verticalPos","yy","horizontalDir","verticalDir","comparatorDistance","target","a","b","da","max","db","storeIntents","userId","userIntents","userRuntimeData","customIntentTypes","intents","notify","system","sanitizeUserIntents","sanitizeUserRoomIntents","global","object","userObjects","sendAttackingNotification","labelText","sendNotification","checkStructureAgainstController","allowedRemaining","foundSelf","objectDist","objectIds","keys","length","compareObj","compareDist","defineGameObjectProperties","dataFn","properties","opts","propertiesInfo","enumerable","eval","Object","defineProperties","toJSON","contains","isAtEdge","serializePath","path","deserializePath","substring","calcResources","store","sum","RESOURCES_ALL","amount","calcBodyEffectiveness","bodyPartType","methodName","basePower","withoutOldHits","power","hits","_oldHits","iPower","boost","BOOSTS","dist","calcRoomsDistance","room1","room2","continuous","x1","y1","x2","y2","worldSize","getWorldSize","min","calcTerminalEnergyCost","range","ceil","exp","calcNeededGcl","gclLevel","GCL_MULTIPLY","pow","GCL_POW","calcTotalReactionsTime","mineral","reagents","reduce","REACTIONS","n","j","k","v","calcStep","m","REACTION_TIME","capacityForResource","resourceType","storeCapacityResource","storeCapacity","calcReward","resourceDensities","targetDensity","itemsLimit","resources","densities","density","resource","order","shuffle","slice","times","currentDensity","round","random","map","getReactionVariants","getReactionVarients","compound","r1","r2"],"mappings":"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","file":"../utils.js","sourceRoot":"/src"}